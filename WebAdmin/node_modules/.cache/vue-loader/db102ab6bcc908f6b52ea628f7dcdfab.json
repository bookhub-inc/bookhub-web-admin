{"remainingRequest":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\src\\components\\galeria\\ManterGaleria.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\src\\components\\galeria\\ManterGaleria.vue","mtime":1574032686000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFudGVyR2FsZXJpYSIsCiAgcHJvcHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleGliaXJMaXN0YWdlbUZvcm06IHRydWUsCiAgICAgIGxpc3RhZ2VtOiBudWxsLAogICAgICBtZW5zYWdlbToiIiwKICAgICAgcmVnaXN0cm86IHtpZDpudWxsLG5vbWU6IiIsYXV0b3I6IiJ9LAogICAgICByZWdpc3Ryb0pzb24gOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsaXN0YXJEYWRvcygpewogICAgICB0aGlzLiRtYXRlcmlhbFNlcnZpY2UuZ2V0VG9kb3MoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZihyZXNwb25zZS5lcnJvKXsKICAgICAgICAgIC8vYWxlcnQKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJkZXUgZXJybyIpOwogICAgICAgIH1lbHNlewogICAgICAgICAKICAgICAgICAgIHRoaXMubGlzdGFnZW0gPSByZXNwb25zZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyBlcnJvCiAgICAgICAgcmVzcG9uc2UuZXJybwogICAgICB9KTsKICAgIH0sCiAgICBleGliaXJNc2dBbGVydChtc2csdGlwbyl7CiAgICAgIGxldCBkYWRvcyA9IiI7CiAgICAgIGlmKHRpcG89PSAic3VjZXNzbyIpewogICAgICAgIGRhZG9zID0gYDxkaXYgY2xhc3M9J2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnIHJvbGU9J2FsZXJ0Jz4KICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke21zZ308L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgPC9kaXY+YAogICAgICB9ZWxzZXsKICAgICAgICAgZGFkb3MgPSBgPGRpdiBjbGFzcz0nYWxlcnQgYWxlcnQtZGFuZ2VyJyByb2xlPSdhbGVydCc+CiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHttc2d9PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgIDwvZGl2PmAKICAgICAgfQogICAgICB0aGlzLm1lbnNhZ2VtID0gZGFkb3M7CiAgICB9LAogICAgbGltcGFyTXNnQWxlcnQoKXsKICAgICAgdGhpcy5tZW5zYWdlbSA9ICIiOwogICAgfSwKICAgIHByZXBhcmFyRm9ybUNhZGFzdHJvKCl7CiAgICAgIHRoaXMubGltcGFyTXNnQWxlcnQoKTsKICAgICAgdGhpcy5leGliaXJMaXN0YWdlbUZvcm0gPSBmYWxzZTsKCiAgICB9LAogICAgc2FsdmFyKCl7CiAgICAgIAogICAgICB0aGlzLiRtYXRlcmlhbFNlcnZpY2UuYWRpY2lvbmFyKHRoaXMucmVnaXN0cm8pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubGlzdGFyRGFkb3MoKTsKICAgICAgICB0aGlzLmV4aWJpckxpc3RhZ2VtRm9ybSA9IHRydWU7CiAgICAgICAgdGhpcy5leGliaXJNc2dBbGVydChyZXNwb25zZS5ub21lICsgIiBzYWx2byBjb20gc3VjZXNzbyEgIiwic3VjZXNzbyIpOwogICAgICB9KS5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5leGliaXJNc2dBbGVydCgiRXJybyBhbyBpbnNlcmlyOiAiK3Jlc3BvbnNlLCJlcnJvIik7CiAgICAgIH0pOwogICAgfSwgCiAgICBsaW1wYUZvcm0oKXsKICAgICAgdGhpcy5yZWdpc3RybyA9IHtpZDpudWxsLG5vbWU6IiIsZGVzY3JpY2FvOiIifTsKICAgIH0sCiAgICBwcmVwYXJhckZvcm1FZGl0YXIoaWQpewogICAgICB0aGlzLmxpbXBhck1zZ0FsZXJ0KCk7CiAgICAgIHRoaXMuZXhpYmlyTGlzdGFnZW1Gb3JtID0gZmFsc2U7CiAgICAgIHRoaXMuJG1hdGVyaWFsU2VydmljZS5nZXRJZChpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yZWdpc3Ryby5pZCA9IHJlc3BvbnNlLmlkOwogICAgICAgIHRoaXMucmVnaXN0cm8ubm9tZSA9IHJlc3BvbnNlLm5vbWU7CiAgICAgICAgdGhpcy5yZWdpc3Ryby5kZXNjcmljYW8gPSByZXNwb25zZS5kZXNjcmljYW87CiAgICAgIH0pLmNhdGNoKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmV4aWJpck1zZ0FsZXJ0KHJlc3BvbnNlLCJlcnJvIik7CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRhcihpZCl7CiAgICAgICB0aGlzLiRtYXRlcmlhbFNlcnZpY2UuZGVsZXRlKGlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgaWYocmVzcG9uc2Uub2spewogICAgICAgICAgIHRoaXMuZXhpYmlyTXNnQWxlcnQoIkV4Y2x1aWRvIGNvbSBzdWNlc3NvISIsInN1Y2Vzc28iKTsKICAgICAgICAgICB0aGlzLmxpc3RhckRhZG9zKCk7CiAgICAgICAgIH0KICAgICAgIH0pCiAgICB9CiAgfSxtb3VudGVkKCkgewogICAgdGhpcy5saXN0YXJEYWRvcygpIAogIH0sCn0K"},{"version":3,"sources":["ManterGaleria.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ManterGaleria.vue","sourceRoot":"src/components/galeria","sourcesContent":["<template>\n  <div>\n    <h1>Cadastro de livros</h1>\n    <div id=\"msg\" v-html=\"mensagem\"></div>\n\n    <div id=\"listagem\" class=\"format\" v-show=\"exibirListagemForm\">\n      <button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-primary\"\n      v-on:click=\"prepararFormCadastro()\">Cadastrar</button>\n      <br />\n\n      <div id=\"galeria-listagem\" class=\"format\">\n        <div class=\"table-responsive\">\n          <table class=\"table table-striped table-bordered table-hover table-sm\">\n            <thead>\n              <tr>\n                <th>Nome</th>\n                <th>Autor</th>\n                <th>Número de Páginas</th>\n                <th>Editora</th>\n                <th>Editar</th>\n                <th>Deletar</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"livro in listagem\" :key=\"livro.id\">\n                <th>{{livro.nome}}</th>\n                <th>{{livro.autor}}</th>\n                <th>{{livro.npaginas}}</th>\n                <th>{{livro.editora}}</th>\n                <th><button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-success\"\n      v-on:click=\"prepararFormEditar(livro.id)\">Editar</button></th>\n                <th><button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-danger\"\n      v-on:click=\"deletar(livro.id)\">Excluir</button></th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"formulario\" class=\"format\" v-show=\"!exibirListagemForm\" v-on:submit.prevent=\"salvar()\">\n      <div class=\"row\">\n        <div class=\"col-sm\">\n          <form action=\"/\" method=\"POST\" id=\"galeriaForm\">\n            <div class=\"form-group\">\n              <label for=\"id\">Código</label>\n              <input\n                type=\"number\"\n                class=\"form-control\"\n                id=\"id_galeria_video\"\n                name=\"id_galeria_video\"\n                disabled=\"disabled\"\n                v-model=\"registro.id\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"nome\">Nome do livro</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nome\"\n                name=\"nome\"\n                v-model=\"registro.nome\"\n              />\n            </div>\n\n             <div class=\"form-group\">\n              <label for=\"editora\">Descricao </label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"editora\"\n                name=\"editora\"\n                v-model=\"registro.descricao\"\n              />\n            </div>\n\n            <div class=\"form-inline\">\n              <button id=\"btn-cadastrar\" type=\"submit\" class=\"btn btn-primary mr-sm-2\">Salvar</button>\n              <button id=\"btn-cadastrar-operacao\" type=\"button\" class=\"btn btn-primary\">Cancelar</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ManterGaleria\",\n  props: {},\n  data() {\n    return {\n      exibirListagemForm: true,\n      listagem: null,\n      mensagem:\"\",\n      registro: {id:null,nome:\"\",autor:\"\"},\n      registroJson : null\n    }\n  },\n  methods: {\n    listarDados(){\n      this.$materialService.getTodos().then(response => {\n        if(response.erro){\n          //alert\n          // console.log(\"deu erro\");\n        }else{\n         \n          this.listagem = response;\n        }\n      }).catch(response => {\n        // erro\n        response.erro\n      });\n    },\n    exibirMsgAlert(msg,tipo){\n      let dados =\"\";\n      if(tipo== \"sucesso\"){\n        dados = `<div class='alert alert-success' role='alert'>\n                  <strong>${msg}</strong>\n                  </div>`\n      }else{\n         dados = `<div class='alert alert-danger' role='alert'>\n                  <strong>${msg}</strong>\n                  </div>`\n      }\n      this.mensagem = dados;\n    },\n    limparMsgAlert(){\n      this.mensagem = \"\";\n    },\n    prepararFormCadastro(){\n      this.limparMsgAlert();\n      this.exibirListagemForm = false;\n\n    },\n    salvar(){\n      \n      this.$materialService.adicionar(this.registro).then(response => {\n        this.listarDados();\n        this.exibirListagemForm = true;\n        this.exibirMsgAlert(response.nome + \" salvo com sucesso! \",\"sucesso\");\n      }).catch(response => {\n        this.exibirMsgAlert(\"Erro ao inserir: \"+response,\"erro\");\n      });\n    }, \n    limpaForm(){\n      this.registro = {id:null,nome:\"\",descricao:\"\"};\n    },\n    prepararFormEditar(id){\n      this.limparMsgAlert();\n      this.exibirListagemForm = false;\n      this.$materialService.getId(id).then(response => {\n        this.registro.id = response.id;\n        this.registro.nome = response.nome;\n        this.registro.descricao = response.descricao;\n      }).catch(response => {\n        this.exibirMsgAlert(response,\"erro\");\n      })\n    },\n    deletar(id){\n       this.$materialService.delete(id).then(response => {\n         if(response.ok){\n           this.exibirMsgAlert(\"Excluido com sucesso!\",\"sucesso\");\n           this.listarDados();\n         }\n       })\n    }\n  },mounted() {\n    this.listarDados() \n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.format {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n</style>\n"]}]}