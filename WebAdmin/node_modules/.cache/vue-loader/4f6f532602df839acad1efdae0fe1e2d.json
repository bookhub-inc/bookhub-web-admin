{"remainingRequest":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\src\\components\\galeria\\ManterGaleria.vue?vue&type=style&index=0&id=0de51e18&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\src\\components\\galeria\\ManterGaleria.vue","mtime":1574032686000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\philipe_herodek\\OneDrive - Jafra\\Área de Trabalho\\Faculdade\\TCC\\webADMIN_HERODEK\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mb3JtYXQgewogIHBhZGRpbmctdG9wOiA1cHg7CiAgcGFkZGluZy1ib3R0b206IDVweDsKfQo="},{"version":3,"sources":["ManterGaleria.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA","file":"ManterGaleria.vue","sourceRoot":"src/components/galeria","sourcesContent":["<template>\n  <div>\n    <h1>Cadastro de livros</h1>\n    <div id=\"msg\" v-html=\"mensagem\"></div>\n\n    <div id=\"listagem\" class=\"format\" v-show=\"exibirListagemForm\">\n      <button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-primary\"\n      v-on:click=\"prepararFormCadastro()\">Cadastrar</button>\n      <br />\n\n      <div id=\"galeria-listagem\" class=\"format\">\n        <div class=\"table-responsive\">\n          <table class=\"table table-striped table-bordered table-hover table-sm\">\n            <thead>\n              <tr>\n                <th>Nome</th>\n                <th>Autor</th>\n                <th>Número de Páginas</th>\n                <th>Editora</th>\n                <th>Editar</th>\n                <th>Deletar</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"livro in listagem\" :key=\"livro.id\">\n                <th>{{livro.nome}}</th>\n                <th>{{livro.autor}}</th>\n                <th>{{livro.npaginas}}</th>\n                <th>{{livro.editora}}</th>\n                <th><button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-success\"\n      v-on:click=\"prepararFormEditar(livro.id)\">Editar</button></th>\n                <th><button id=\"btn-exibir-formulario\" type=\"button\" class=\"btn btn-danger\"\n      v-on:click=\"deletar(livro.id)\">Excluir</button></th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"formulario\" class=\"format\" v-show=\"!exibirListagemForm\" v-on:submit.prevent=\"salvar()\">\n      <div class=\"row\">\n        <div class=\"col-sm\">\n          <form action=\"/\" method=\"POST\" id=\"galeriaForm\">\n            <div class=\"form-group\">\n              <label for=\"id\">Código</label>\n              <input\n                type=\"number\"\n                class=\"form-control\"\n                id=\"id_galeria_video\"\n                name=\"id_galeria_video\"\n                disabled=\"disabled\"\n                v-model=\"registro.id\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"nome\">Nome do livro</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nome\"\n                name=\"nome\"\n                v-model=\"registro.nome\"\n              />\n            </div>\n\n             <div class=\"form-group\">\n              <label for=\"editora\">Descricao </label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"editora\"\n                name=\"editora\"\n                v-model=\"registro.descricao\"\n              />\n            </div>\n\n            <div class=\"form-inline\">\n              <button id=\"btn-cadastrar\" type=\"submit\" class=\"btn btn-primary mr-sm-2\">Salvar</button>\n              <button id=\"btn-cadastrar-operacao\" type=\"button\" class=\"btn btn-primary\">Cancelar</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ManterGaleria\",\n  props: {},\n  data() {\n    return {\n      exibirListagemForm: true,\n      listagem: null,\n      mensagem:\"\",\n      registro: {id:null,nome:\"\",autor:\"\"},\n      registroJson : null\n    }\n  },\n  methods: {\n    listarDados(){\n      this.$materialService.getTodos().then(response => {\n        if(response.erro){\n          //alert\n          // console.log(\"deu erro\");\n        }else{\n         \n          this.listagem = response;\n        }\n      }).catch(response => {\n        // erro\n        response.erro\n      });\n    },\n    exibirMsgAlert(msg,tipo){\n      let dados =\"\";\n      if(tipo== \"sucesso\"){\n        dados = `<div class='alert alert-success' role='alert'>\n                  <strong>${msg}</strong>\n                  </div>`\n      }else{\n         dados = `<div class='alert alert-danger' role='alert'>\n                  <strong>${msg}</strong>\n                  </div>`\n      }\n      this.mensagem = dados;\n    },\n    limparMsgAlert(){\n      this.mensagem = \"\";\n    },\n    prepararFormCadastro(){\n      this.limparMsgAlert();\n      this.exibirListagemForm = false;\n\n    },\n    salvar(){\n      \n      this.$materialService.adicionar(this.registro).then(response => {\n        this.listarDados();\n        this.exibirListagemForm = true;\n        this.exibirMsgAlert(response.nome + \" salvo com sucesso! \",\"sucesso\");\n      }).catch(response => {\n        this.exibirMsgAlert(\"Erro ao inserir: \"+response,\"erro\");\n      });\n    }, \n    limpaForm(){\n      this.registro = {id:null,nome:\"\",descricao:\"\"};\n    },\n    prepararFormEditar(id){\n      this.limparMsgAlert();\n      this.exibirListagemForm = false;\n      this.$materialService.getId(id).then(response => {\n        this.registro.id = response.id;\n        this.registro.nome = response.nome;\n        this.registro.descricao = response.descricao;\n      }).catch(response => {\n        this.exibirMsgAlert(response,\"erro\");\n      })\n    },\n    deletar(id){\n       this.$materialService.delete(id).then(response => {\n         if(response.ok){\n           this.exibirMsgAlert(\"Excluido com sucesso!\",\"sucesso\");\n           this.listarDados();\n         }\n       })\n    }\n  },mounted() {\n    this.listarDados() \n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.format {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n</style>\n"]}]}